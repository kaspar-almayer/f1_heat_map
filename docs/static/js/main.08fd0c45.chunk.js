(this.webpackJsonpmatrix=this.webpackJsonpmatrix||[]).push([[1],{17:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(10),i=n.n(a),s=(n(17),n(0)),u=n.n(s),l=n(8),o=n(3),d=(n(9),n(4)),j=function(e){var t=e.split(":"),n=t[1].split("."),r=60*Number(t[0])+Number(n[0]);return Number("".concat(r,".").concat(n[1]))},p=function(e){var t=Math.floor(e/60),n=String((e%60).toFixed(3)).padStart(6,"0");return"".concat(t,":").concat(n)},b=function(e,t,n){if(e<t[0]||e>t[1])return"hsl(0, 0%, 50%)";var r=(e-t[0])*Number(n)/(t[1]-t[0]);return"hsl(".concat(r,", 100%, 50%)")},v=function(e){if(e.sort((function(e,t){return e-t})),e.length%2===0){var t=e.length/2;return(e[t-1]+e[t])/2}return e[Math.round(e.length/2)]},m=function(e){return e.data.reduce((function(e,t){return t.timings&&e.push(t.timings),e}),[]).flat()},h=n(1),f=function(e){var t=e.laps,n=e.range,r=e.driver,c=e.colors,a=e.fontSize;return Object(h.jsxs)("div",{className:"column",children:[Object(h.jsx)("p",{className:"driver-name",children:r}),t.map((function(e,t){return Object(h.jsx)("p",{style:{backgroundColor:b(j(e),n,c),fontSize:"".concat(a,"px")},children:e},t)}))]})},O=n(12),x=Object(O.a)("https://rkpsepkibztbweplxsli.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrcHNlcGtpYnp0YndlcGx4c2xpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTc0NzE4MDAsImV4cCI6MTk3MzA0NzgwMH0.-TsomBTEZlmHZ6cS3qqbF7f1G8OLsNSgMkquuPrt1PA");var g=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),i=Object(o.a)(a,2),s=i[0],b=i[1],O=Object(r.useState)([]),g=Object(o.a)(O,2),N=g[0],I=g[1],S=Object(r.useState)("150"),M=Object(o.a)(S,2),k=M[0],w=M[1],C=Object(r.useState)("7"),y=Object(o.a)(C,2),z=y[0],F=y[1],J=Object(r.useState)("14"),T=Object(o.a)(J,2),E=T[0],q=T[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.from("races").select("*").eq("round","11");case 3:return t=e.sent,n=t.data,t.error,e.next=8,x.from("races").select("id,short_name").order("round",{ascending:!1});case 8:r=e.sent,a=r.data,r.error,n&&c(n[0]),a&&b(a),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(r.useEffect)((function(){n&&I(function(e,t){var n=e.map((function(e){return j(e)})),r=Math.round(v(n)),c=n.filter((function(e){return e<r+t}));return[Math.min.apply(Math,Object(d.a)(c)),Math.max.apply(Math,Object(d.a)(c))]}(m(n),Number(z)))}),[n,z]);var Z=Object(r.useMemo)((function(){return n?function(e,t){var n=e.map((function(e){return j(e)}));return Math.round(v(n))+t}(m(n),Number(z)):0}),[n,z]);return Object(h.jsxs)("div",{className:"app-wrapper",children:[Object(h.jsxs)("header",{className:"main-header",children:[Object(h.jsxs)("h1",{children:["F1 heat map | ",null===n||void 0===n?void 0:n.race_name]}),Object(h.jsxs)("div",{className:"race-input",children:[Object(h.jsx)("label",{htmlFor:"races",children:"select race:"}),Object(h.jsx)("select",{name:"races",id:"races",value:null===n||void 0===n?void 0:n.id,onChange:function(e){var t=function(){var t=Object(l.a)(u.a.mark((function t(){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.from("races").select("*").eq("id",null===e||void 0===e||null===(n=e.currentTarget)||void 0===n?void 0:n.value);case 3:r=t.sent,a=r.data,r.error,a&&c(a[0]),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()},children:s.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.short_name},e.id)}))})]})]}),Object(h.jsxs)("main",{children:[Object(h.jsxs)("div",{className:"settings-wrapper",children:[Object(h.jsxs)("div",{className:"settings-input",children:[Object(h.jsx)("label",{children:"adjust colors:"}),Object(h.jsx)("input",{type:"range",min:"0",max:"300",value:k,onChange:function(e){var t;w(null===e||void 0===e||null===(t=e.currentTarget)||void 0===t?void 0:t.value)}})]}),Object(h.jsxs)("div",{className:"settings-input",children:[Object(h.jsxs)("label",{children:["exclued times over: ",p(Z)]}),Object(h.jsx)("input",{type:"range",min:"1",max:"30",value:z,onChange:function(e){var t;F(null===e||void 0===e||null===(t=e.currentTarget)||void 0===t?void 0:t.value)}})]}),Object(h.jsxs)("div",{className:"settings-input",children:[Object(h.jsxs)("label",{children:["heat map size: ",E]}),Object(h.jsx)("input",{type:"range",min:"7",max:"20",value:E,onChange:function(e){var t;q(null===e||void 0===e||null===(t=e.currentTarget)||void 0===t?void 0:t.value)}})]})]}),n?Object(h.jsx)("div",{className:"columns-wrapper",children:n.data.map((function(e,t){return e.timings&&Object(h.jsx)(f,{laps:e.timings,range:N,driver:e.driver,colors:k,fontSize:E},t)}))}):null]})]})},N=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,27)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root")),N()},9:function(e,t,n){}},[[23,2,3]]]);
//# sourceMappingURL=main.08fd0c45.chunk.js.map